
#################################################################################################################################################

# Imports
import os
import py_misc

# Modules
from . import homerico
from . import routes

#################################################################################################################################################

# Setup Homerico Connection
homerico.Validar(os.getenv('HOMERICO_GATEWAY'))
homerico.Login(
    os.getenv('HOMERICO_USER'),
    os.getenv('HOMERICO_PASSWORD')
)

#################################################################################################################################################

# Declare HTTP API
app = py_misc.API().host('0.0.0.0')
app.port(os.getenv('AVB_APP_PORT'))

#################################################################################################################################################

# Load Routes
routes.__load__(app)

#################################################################################################################################################

# start server
app.start()

# keep main thread alive
py_misc.keepalive()

#################################################################################################################################################
